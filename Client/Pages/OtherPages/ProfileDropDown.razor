
<div class="btn-group">   
    <div class="dropdown">
        <a class="dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <img src="@(ProfileImage == "" ? "../images/profile-pic.png" : ProfileImage)" width="30" height="30" />
        </a>

        <ul class="dropdown-menu">
            <li>
                <div class="card">
                    <div class="card-body">
                        <a class="text-primary text-decoration-none"><i class="bi bi-person-gear"></i>Profile</a>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-danger btn-sm fw-bold w-100" @onclick="LogoutClicked">
                            <i class="bi bi-box-arrow-left"></i> Logout
                        </button>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>

@code {
    public string ProfileImage { get; set; } = "";
    async Task LogoutClicked()
    {
        var logoutModel = new UserSession();
        var custonAuthStateProvider = (CustomAuthenticationStateProvider)AuthStateProvider;
        await custonAuthStateProvider.UpdateAuthenticationState(logoutModel);
        NavManager.NavigateTo("/identity/account/login", forceLoad: true);
    }
}
